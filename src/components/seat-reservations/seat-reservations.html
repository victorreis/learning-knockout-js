<h2>Seat Reservations</h2>

<table class="table table-hover text-center">
    <thead>
        <tr>
            <th scope="col" class="text-start">Passenger name</th>
            <th scope="col">Seat</th>
            <th scope="col">At Window?</th>
            <th scope="col">Meal</th>
            <th scope="col">Surcharge</th>
            <th scope="col">Action</th>
        </tr>
    </thead>
    <tbody data-bind="foreach: seatsReservations">
        <tr>
            <td class="text-start" data-bind="text: fullname"></td>
            <td>
                <select
                    class="form-select"
                    data-bind="options: [seat(), ...$parent.freeSeats()],
                        value: seat,
                        optionsText: 'name'"
                ></select>
            </td>
            <td data-bind="text: isAtWindow"></td>
            <td>
                <select
                    class="form-select"
                    data-bind="options: $parent.meals(),
                        value: meal,
                        optionsText: 'name'"
                ></select>
            </td>
            <td data-bind="text: formattedPrice"></td>
            <td>
                <button
                    class="btn btn-danger btn-sm"
                    data-bind="click: $parent.removePassengerSeatReservation"
                >
                    X
                </button>
            </td>
        </tr>
    </tbody>
</table>

<hr />

<client-allocator
    params="meals: meals,
        clients: clients,
        seats: seats,
        freeSeats: freeSeats,
        passengers: passengers,
        onAddPassenger: addPassenger"
></client-allocator>
